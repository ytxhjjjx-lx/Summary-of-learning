# Ajax
## 1.Ajax的由来
### 1.传统的Web应用的特点
传统的Web应用交互,由用户触发一个HTTP请求到服务器,服务器对其进行处理后再返回一个新的HTML页到客户端;

每当服务器处理客户端提交的请求时,客户都只能空闲等待;   
哪怕只是一次很小的交互、只需从服务器端得到很简单的一个数据,都要返回一个完整的HTML页,而客户端每次都要浪费时间和带宽去重新读取整个页面;

-------

## 2.浏览器与服务器交互图
![image](https://i.loli.net/2017/11/25/5a19798f7b54e.jpg)
![image](https://i.loli.net/2017/11/25/5a197a0b32084.jpg)
-------

## 3.Ajax所包含的技术
Ajax是原有技术的结合体,它是几种技术组合成的:    
```
1.使用CSS和XHTML来表示;

2.使用DOM模型来交互和动态显示;

3.使用XMLHttpRequest来和服务器进行异步通信;

4.使用javascript来绑定和调用;
```
通过XmlHttpRequest对象,来向服务器发异步请求,从服务器获得数据,然后用JavaScript来操作DOM、改变CSS,更新页面;

-------

## 4.Ajax原理和XMLHttpRequest对象
### 1.Ajax原理
Ajax,通过XmlHttpRequest对象,来向服务器发异步请求,从服务器获得数据,然后用javascript来操作DOM而更新页面;   

XMLHttpRequest是ajax的核心机制,是一种支持异步请求的技术:  
javascript可以及时向服务器提出请求和处理响应,而不阻塞用户,达到无刷新的效果;   

### 2.XMLHttpRequest对象
#### 1.XmlHttpRequest对象的属性
###### 
##### onreadystatechange
每次状态改变所触发事件的事件处理程序;

##### responseText 
从服务器进程返回数据的字符串形式;

##### responseXML 
从服务器进程返回的DOM兼容的文档数据对象;

##### status 
从服务器返回的数字代码;常见的404(未找到）和200(已就绪)
##### status Text 
伴随状态码的字符串信息

##### readyState 
对象状态值
```
0 (未初始化) 
对象已建立,但是尚未初始化(尚未调用open方法)

1 (初始化) 
对象已建立,尚未调用send方法;

2 (发送数据) 
send方法已调用,但是当前的状态及http头未知

3 (数据传送中) 
已接收部分数据,通过responseBody和responseText获取数据

4 (完成) 
数据接收完毕,此时可以通过通过responseXml和responseText获取完整的回应数据;
```
-------

## 5.Ajax的优点和缺点
### 1.优点
##### 1.无刷新更新数据
AJAX能在不刷新整个页面的前提下与服务器通信维护数据;   
这使得Web应用程序更为迅捷地响应用户交互,减少用户等待时间,带来非常好的用户体验;

##### 2.异步与服务器通信
使用异步方式与服务器通信,不需要打断用户的操作,具有更加迅速的响应能力;

##### 3.前端和后端负载平衡
可以把以前一些服务器负担的工作转嫁到客户端,利用客户端闲置的能力来处理,减轻服务器和带宽的负担,节约空间和宽带租用成本;   
减轻服务器的负担,ajax的原则是“按需取数据”,可以最大程度的减少冗余请求,和响应对服务器造成的负担;

##### 4.界面与应用分离
Ajax使WEB中的界面与应用分离,有利于分工合作、减少非技术人员对页面的修改造成的WEB应用程序错误、提高效率;

### 2.缺点
##### 1.AJAX干掉了Back和History功能,即对浏览器后退机制的破坏
在动态更新页面的情况下,用户无法回到前一个页面状态;

##### 2.安全问题
Ajax技术,如同对企业数据建立了一个直接通道,使得开发者在不经意间会暴露比以前更多的数据和服务器逻辑;


##### 3.对搜索引擎的支持比较弱

##### 4.破坏程序的异常处理机制

##### 5.AJAX不能很好支持移动设备

-------

## 6.常见问题
```
1.IE浏览器下面的缓存问题

2.跨域问题

3.Ajax乱码问题


```